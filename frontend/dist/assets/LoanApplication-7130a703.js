import{_ as b,u as g,r as i,o as m,c as p,b as n,j as L,e as l,k as d,p as f,v as T,f as e,t as r,g as x,q as A,h as v}from"./index-7cd8eeb4.js";const S={name:"LoanApplication",setup(){const u=g(),o=i(!1),s=i(null),t=i({loanType:"",amount:"",term:"",agreeTerms:!1});return{form:t,loading:o,calculation:s,calculateLoan:async()=>{if(!t.value.amount||!t.value.term){alert("Please enter amount and term first");return}try{const a=await v.post("/api/loans/calculate",{amount:parseFloat(t.value.amount),term:parseInt(t.value.term)});s.value=a.data}catch(a){console.error("Calculation failed:",a)}},handleSubmit:async()=>{o.value=!0;try{await v.post("/api/loans/apply",{loanType:t.value.loanType,amount:parseFloat(t.value.amount),term:parseInt(t.value.term)}),alert("Loan application submitted successfully!"),u.push("/dashboard")}catch{alert("Application failed. Please try again.")}finally{o.value=!1}}}}},k={class:"container",style:{"max-width":"600px","margin-top":"30px"}},V={class:"card"},C={class:"form-group"},P={class:"form-group"},w={class:"form-group"},U={key:0,class:"card",style:{background:"#e3f2fd",margin:"20px 0"}},q={class:"form-group"},B={class:"form-group"},M=["disabled"];function I(u,o,s,t,c,y){return m(),p("div",k,[n("div",V,[o[16]||(o[16]=n("h2",null,"Apply for a Loan",-1)),n("form",{onSubmit:o[5]||(o[5]=L((...a)=>t.handleSubmit&&t.handleSubmit(...a),["prevent"]))},[n("div",C,[o[7]||(o[7]=n("label",null,"Loan Type",-1)),l(n("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.form.loanType=a),required:""},o[6]||(o[6]=[f('<option value="">Select Loan Type</option><option value="Home">Home Loan</option><option value="Personal">Personal Loan</option><option value="Auto">Auto Loan</option><option value="Business">Business Loan</option>',5)]),512),[[d,t.form.loanType]])]),n("div",P,[o[8]||(o[8]=n("label",null,"Loan Amount ($)",-1)),l(n("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.form.amount=a),type:"number",min:"1000",max:"1000000",required:""},null,512),[[T,t.form.amount]])]),n("div",w,[o[10]||(o[10]=n("label",null,"Loan Term (months)",-1)),l(n("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.form.term=a),required:""},o[9]||(o[9]=[f('<option value="">Select Term</option><option value="12">12 months</option><option value="24">24 months</option><option value="36">36 months</option><option value="48">48 months</option><option value="60">60 months</option>',6)]),512),[[d,t.form.term]])]),t.calculation?(m(),p("div",U,[o[14]||(o[14]=n("h3",null,"Loan Calculation",-1)),n("p",null,[o[11]||(o[11]=n("strong",null,"Monthly Payment:",-1)),e(" $"+r(t.calculation.monthlyPayment),1)]),n("p",null,[o[12]||(o[12]=n("strong",null,"Total Amount Payable:",-1)),e(" $"+r(t.calculation.totalAmount),1)]),n("p",null,[o[13]||(o[13]=n("strong",null,"Interest Rate:",-1)),e(" "+r(t.calculation.interestRate)+"% per annum",1)])])):x("",!0),n("div",q,[n("button",{type:"button",onClick:o[3]||(o[3]=(...a)=>t.calculateLoan&&t.calculateLoan(...a)),class:"btn btn-secondary"}," Calculate Loan ")]),n("div",B,[n("label",null,[l(n("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=a=>t.form.agreeTerms=a),required:""},null,512),[[A,t.form.agreeTerms]]),o[15]||(o[15]=e(" I agree to the terms and conditions "))])]),n("button",{type:"submit",class:"btn btn-primary",disabled:t.loading||!t.calculation},r(t.loading?"Submitting...":"Submit Application"),9,M)],32)])])}const R=b(S,[["render",I],["__file","C:/Users/User/RestoreLoans-Application/frontend/src/views/LoanApplication.vue"]]);export{R as default};
