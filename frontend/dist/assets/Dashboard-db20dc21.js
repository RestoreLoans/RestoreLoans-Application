import{_ as k,i as x,r as y,l as i,m as L,a as S,o as d,c as u,b as s,t as e,d as f,w as b,F as P,n as N,g as A,h as g,f as r}from"./index-7cd8eeb4.js";const C={name:"Dashboard",setup(){const c=x(),t=y([]),m=y([]),a=i(()=>c.userName),p=i(()=>t.value.reduce((n,v)=>n+v.balance,0).toFixed(2)),_=i(()=>t.value.filter(n=>n.status==="active"||n.status==="approved").length),l=i(()=>m.value.reduce((n,v)=>n+v.amount,0).toFixed(2)),o=async()=>{try{const n=await g.get("/api/loans");t.value=n.data}catch(n){console.error("Error fetching loans:",n)}},h=async()=>{try{const n=await g.get("/api/payments");m.value=n.data}catch(n){console.error("Error fetching payments:",n)}},w=()=>{alert("Statement viewing feature coming soon!")};return L(async()=>{await c.fetchProfile(),await o(),await h()}),{userName:a,loans:t,totalOutstanding:p,activeLoans:_,totalPaid:l,viewStatements:w}}},D={class:"container",style:{"margin-top":"30px"}},V={class:"card"},B={class:"dashboard-grid"},F={class:"stat-card"},M={class:"stat-number"},T={class:"stat-card"},E={class:"stat-number"},O={class:"stat-card"},U={class:"stat-number"},q={class:"card"},I={class:"quick-actions"},Q={key:0,class:"card"},R={class:"loan-list"};function W(c,t,m,a,p,_){const l=S("router-link");return d(),u("div",D,[s("div",V,[s("h1",null,"Welcome, "+e(a.userName)+"!",1),t[1]||(t[1]=s("p",null,"Manage your loans and payments from your dashboard",-1))]),s("div",B,[s("div",F,[s("div",M,"$"+e(a.totalOutstanding),1),t[2]||(t[2]=s("div",null,"Total Outstanding",-1))]),s("div",T,[s("div",E,e(a.activeLoans),1),t[3]||(t[3]=s("div",null,"Active Loans",-1))]),s("div",O,[s("div",U,"$"+e(a.totalPaid),1),t[4]||(t[4]=s("div",null,"Total Paid",-1))])]),s("div",q,[t[7]||(t[7]=s("h2",null,"Quick Actions",-1)),s("div",I,[f(l,{to:"/loans/apply",class:"action-btn btn btn-primary"},{default:b(()=>t[5]||(t[5]=[r(" Apply for Loan ")])),_:1,__:[5]}),f(l,{to:"/payments",class:"action-btn btn btn-secondary"},{default:b(()=>t[6]||(t[6]=[r(" Make Payment ")])),_:1,__:[6]}),s("button",{onClick:t[0]||(t[0]=(...o)=>a.viewStatements&&a.viewStatements(...o)),class:"action-btn btn btn-secondary"}," View Statements ")])]),a.loans.length>0?(d(),u("div",Q,[t[12]||(t[12]=s("h2",null,"Your Loans",-1)),s("div",R,[(d(!0),u(P,null,N(a.loans,o=>(d(),u("div",{key:o._id,class:"loan-item card"},[s("h3",null,e(o.loanType)+" Loan",1),s("p",null,[t[8]||(t[8]=s("strong",null,"Amount:",-1)),r(" $"+e(o.amount),1)]),s("p",null,[t[9]||(t[9]=s("strong",null,"Balance:",-1)),r(" $"+e(o.balance),1)]),s("p",null,[t[10]||(t[10]=s("strong",null,"Status:",-1)),r(" "+e(o.status),1)]),s("p",null,[t[11]||(t[11]=s("strong",null,"Monthly Payment:",-1)),r(" $"+e(o.monthlyPayment),1)])]))),128))])])):A("",!0)])}const $=k(C,[["render",W],["__scopeId","data-v-7f773d42"],["__file","C:/Users/User/RestoreLoans-Application/frontend/src/views/Dashboard.vue"]]);export{$ as default};
